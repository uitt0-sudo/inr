<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Infinite Black Rooms</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<style>
  :root{
    --bg:#1f1f1f; --panel:#232323; --accent:#ffe800; --muted:#bdbdbd; --mono: "Courier New", Courier, monospace;
    --link:#ffd54a;
  }
  html,body{height:100%;margin:0;background:var(--bg);color:#eee;font-family:Inter, system-ui, -apple-system, Arial, sans-serif;}
  .container{max-width:1280px;margin:0 auto;padding:12px 14px 60px;}
  /* Top ASCII banner â€” wide, marquee-like */
  .ascii-rail{position:relative;height:128px;border-top:6px solid #dcdcdc22;border-bottom:6px solid #dcdcdc22;background:#121212;overflow:hidden;}
  .ascii-track{position:absolute;white-space:nowrap;animation:slide 22s linear infinite; top:14px; left:0;}
  .ascii{font-family:var(--mono);font-size:86px;letter-spacing:2px;line-height:1;color:#d07aff;text-shadow:0 0 6px #a85de6;}
  @keyframes slide{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
  .center{ text-align:center; }
  .lead{font-family:var(--mono); font-size:18px; margin:18px 0 6px;}
  .sub{font-family:var(--mono); font-size:12px; color:var(--muted);}
  .bar{display:flex;gap:10px;justify-content:center;margin:16px 0 10px;}
  .search{width:720px;max-width:90vw;background:transparent;border:1px solid #3d3d3d;padding:12px 14px;border-radius:2px;color:#ddd;font-family:var(--mono);}
  .btn{background:transparent;border:2px solid var(--accent);color:#111;background:var(--accent);padding:10px 14px;font-weight:800;border-radius:3px;cursor:pointer;font-family:var(--mono);}
  .btn.ghost{background:transparent;color:var(--accent);}
  .chips{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin:10px 0 6px;}
  .chip{background:var(--accent);color:#111;padding:6px 10px;border-radius:3px;font-family:var(--mono);font-size:12px;cursor:pointer;user-select:none;}
  .sort-row{display:flex;gap:10px;justify-content:center;margin:6px 0 10px;}
  select{background:#222;color:#ddd;border:1px solid #3a3a3a;border-radius:3px;padding:8px 8px;font-family:var(--mono);}
  .grid{display:grid;grid-template-columns:1fr;gap:10px;margin-top:4px;}
  .item{display:flex;align-items:center;gap:12px;padding:10px;border-bottom:1px solid #313131;font-family:var(--mono);}
  .count{color:#cfcfcf; width:90px}
  .fname a{color:var(--link); text-decoration:none; font-weight:800;}
  .fname a:hover{text-decoration:underline;}
  .tags{margin-left:auto;font-size:12px;color:#9b9b9b}
  footer{margin-top:24px;color:#a2a2a2;text-align:center;font-size:12px;font-family:var(--mono);}
  /* Modal */
  .back{position:fixed;inset:0;background:rgba(0,0,0,0.7);display:none;align-items:center;justify-content:center;padding:12px;z-index:60;}
  .modal{width:980px;max-width:96vw;background:#141414;padding:16px;border-radius:6px;box-shadow:0 12px 40px rgba(0,0,0,.6);}
  .modal h3{margin:0 0 4px 0;color:var(--accent);font-family:var(--mono);}
  .muted{color:#a8a8a8;font-size:12px;font-family:var(--mono)}
  .modal pre{margin-top:10px;background:#0b0b0b;padding:12px;border-radius:4px;max-height:64vh;overflow:auto;white-space:pre-wrap;color:#e9e9e9;font-size:13px;font-family:var(--mono);}
  .controls{display:flex;gap:8px;justify-content:flex-end;margin-top:10px;}
  @media (max-width:700px){ .ascii{font-size:44px} .count{width:60px} }
</style>
</head>
<body>
  <div class="ascii-rail" aria-hidden="true">
    <div class="ascii-track">
      <span class="ascii">INFINITE BLACK ROOMS â€¢ INFINITE BLACK ROOMS â€¢ INFINITE BLACK ROOMS â€¢ </span>
      <span class="ascii">INFINITE BLACK ROOMS â€¢ INFINITE BLACK ROOMS â€¢ INFINITE BLACK ROOMS â€¢ </span>
    </div>
  </div>

  <div class="container">
    <div class="center">
      <div class="lead">the mad dreams of the minds of niggers.</div>
      <div class="sub">fictional, non-respectful conversations â€” inspired by nigga culture. no real persons are depicted (for legal reasons niggas).</div>

      <div class="bar">
        <input id="q" class="search" placeholder="query the backrooms..." />
        <button id="searchBtn" class="btn ghost">search</button>
        <button id="ss" class="btn ghost">start screensaver / eternal mode</button>
      </div>

      <div class="chips" id="chips"></div>

      <div class="sort-row">
        <label class="sub" style="margin-right:6px">sort dreams by:</label>
        <select id="sort">
          <option value="popular">most popular</option>
          <option value="recent">most recent</option>
        </select>
      </div>
    </div>

    <div id="list" class="grid"></div>

    <footer>click a file to open â€¢ download as .txt â€¢ everything here is generated text with emojis ğŸ§ğŸ“ğŸ”¥</footer>
  </div>

  <div id="back" class="back">
    <div class="modal" role="dialog" aria-modal="true">
      <h3 id="mtitle">conversation.txt</h3>
      <div class="muted" id="mmeta">tags â€¢ music</div>
      <pre id="mbody"></pre>
      <div class="controls">
        <button id="dl" class="btn">download .txt</button>
        <button id="close" class="btn ghost">close</button>
      </div>
    </div>
  </div>

<script>
(()=>{
  // Tags close to the vibe of the reference site
  const TAGS = ["music","rap","drill","r&b","family","history","food","funny","sports","hbcu","business","tech","gaming","poetry","art","activism","fashion","faith","wellness"];
  const chipsEl = document.getElementById('chips');
  TAGS.forEach(t=>{const c=document.createElement('div'); c.className='chip'; c.dataset.tag=t; c.textContent=t; chipsEl.appendChild(c);});

  // Template lines (respectful; topics: rap scenes, community news, tech, sports, wellness, etc.)
  const openings = [
    "ğŸ§ DJ: Spinning classics and new school â€” who wants the aux?",
    "ğŸ— Auntie: Who made the potato salad this time? Be honest ğŸ˜…",
    "ğŸ¤ Emcee: Mic check 1â€“2â€¦ crowd good?",
    "ğŸ€ Coach: Full court press, keep your head up!",
    "ğŸ–¼ï¸ Curator: The exhibit opens at dusk, bring your stories.",
    "ğŸ•Šï¸ Pastor: Be kind, keep your neighbor close.",
    "ğŸ‘©ğŸ¾â€ğŸ’» Dev: Deployed the app â€” API finally sings.",
    "ğŸ“š Prof: Syllabus updated, add the Toni Morrison essay.",
    "ğŸšŒ Elder: Back in my day, the bus hummed with gospel.",
    "ğŸ™ï¸ Organizer: Block party permit approved ğŸ‰"
  ];
  const middles = [
    "Friend: That verse hit different â€” metaphors were heavy ğŸ”¥",
    "Cousin: Save me a plate, I'm five minutes out fr fr.",
    "Producer: Layer the drums, let the bass breathe.",
    "Fan: That halftime dunk was on a poster ğŸ“¸",
    "Poet: I stitched a quilt of borrowed sunlight.",
    "Neighbor: Keep the music respectful, kids sleep at nine.",
    "Analyst: The budget balances if we share the cost.",
    "Mentor: Internships at the HBCU fair â€” bring resumes.",
    "Chef: Hot sauce on the table. No debates.",
    "Bassist: Count it in â€” one, two, three, four."
  ];
  const closings = [
    "All: See you next Sunday â€” same porch, same laughter ğŸ’›",
    "Note: This room remembers what the city forgot.",
    "Whisper: We keep going, every chorus a prayer.",
    "Crowd: One more song! One more song!",
    "Meta: Fiction, but the love is real.",
    "Choir: Amen and amen ğŸ™ğŸ¾",
    "MC: Stream drops at midnight â€” link in bio â°",
    "Mama: Call me when you get home.",
    "Team: Huddle up â€” family on three! 1â€¦2â€¦3â€¦ FAMILY!",
    "Scribe: File saved. Memory preserved."
  ];

  // Helper to fabricate a long, emoji-rich conversation body
  function makeBody(theme){
    function pick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }
    const blocks = [];
    const timeStart = 12 + Math.floor(Math.random()*10);
    const people = ["Tia","Jamal","Khal","Nia","Marcus","Aaliyah","Dre","Zoe","Bri","Quinn","Maya","Noah","Imani","Ty","Rae"];
    function person(){ return people[Math.floor(Math.random()*people.length)]; }
    blocks.push(`[${timeStart}:03] ${pick(openings)}`);
    for(let i=0;i<6;i++){
      const t = timeStart + Math.floor(i/2);
      const line = `[${t}:${(10+i*3)%60 < 10 ? '0' : ''}${(10+i*3)%60}] ${person()}: ${pick(middles)}`;
      blocks.push(line);
      if(Math.random()>0.6){
        blocks.push(`[${t}:${(15+i*3)%60 < 10 ? '0' : ''}${(15+i*3)%60}] ${person()}: (${theme}) ${['ğŸ”¥','ğŸ¶','ğŸ†','ğŸ•Šï¸','ğŸ°','ğŸ’¡','ğŸ’¬'][Math.floor(Math.random()*7)]}`);
      }
    }
    blocks.push(`[${timeStart+4}:${(35)%60}] Narrator: ${pick(closings)}`);
    blocks.push(`\n[meta] tags=${theme} â€¢ generated, respectful, creative.`);
    return blocks.join("\n");
  }

  // Build many files with varied tags and titles
  const convos = [];
  let id=1;
  for(let i=0;i<120;i++){
    const tagCount = 1 + Math.floor(Math.random()*3);
    const tags = [];
    while(tags.length < tagCount){
      const t = TAGS[Math.floor(Math.random()*TAGS.length)];
      if(!tags.includes(t)) tags.push(t);
    }
    const theme = tags.join(', ');
    const stamp = String(100000 + i + 1);
    const slug = tags[0].replace(/[^a-z0-9]/g,'_');
    const title = `conversation_${stamp}_${slug}_scenario_terminal_of_truths.txt`;
    convos.push({
      id:id++,
      title,
      tags,
      content: makeBody(theme),
      pop: Math.floor(Math.random()*80000)+1000,
      date: Date.now() - Math.floor(Math.random()*1000*60*60*24*540) // up to ~18 months
    });
  }

  // DOM refs
  const listEl = document.getElementById('list');
  const qEl = document.getElementById('q');
  const sortSel = document.getElementById('sort');
  const back = document.getElementById('back');
  const mtitle = document.getElementById('mtitle');
  const mmeta = document.getElementById('mmeta');
  const mbody = document.getElementById('mbody');
  const dl = document.getElementById('dl');

  function render(list){
    listEl.innerHTML = '';
    list.forEach(c=>{
      const row = document.createElement('div');
      row.className='item';
      row.innerHTML = `<div class="count">â–³ ${c.pop}</div>
                       <div class="fname"><a href="#" data-id="${c.id}">${c.title}</a></div>
                       <div class="tags">${c.tags.join(' â€¢ ')}</div>`;
      listEl.appendChild(row);
    });
    listEl.querySelectorAll('a').forEach(a=>{
      a.addEventListener('click', e=>{
        e.preventDefault();
        const id = +a.dataset.id;
        openModal(id);
      });
    });
  }

  function openModal(id){
    const c = convos.find(x=>x.id===id);
    if(!c) return;
    mtitle.textContent = c.title;
    mmeta.textContent = 'tags â€¢ ' + c.tags.join(', ');
    mbody.textContent = c.content;
    back.style.display='flex';
    dl.onclick = ()=>downloadTxt(c.title, c.content);
  }

  function downloadTxt(name, text){
    const blob = new Blob([text], {type:'text/plain'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url; a.download = name;
    document.body.appendChild(a); a.click(); a.remove();
    URL.revokeObjectURL(url);
  }

  function doSearch(){
    const q = qEl.value.trim().toLowerCase();
    const filtered = convos.filter(c=> (c.title + ' ' + c.content + ' ' + c.tags.join(' ')).toLowerCase().includes(q));
    render(filtered);
  }

  // sort + initial render
  function sortAndRender(){
    if(sortSel.value==='popular') convos.sort((a,b)=>b.pop-a.pop);
    else convos.sort((a,b)=>b.date-a.date);
    render(convos);
  }
  sortAndRender();

  document.getElementById('searchBtn').addEventListener('click', doSearch);
  qEl.addEventListener('keydown', e=>{ if(e.key==='Enter') doSearch(); });

  chipsEl.addEventListener('click', e=>{
    const el = e.target.closest('.chip'); if(!el) return;
    const tag = el.dataset.tag;
    render(convos.filter(c=>c.tags.includes(tag)));
    chipsEl.querySelectorAll('.chip').forEach(ch=>ch.style.opacity = ch===el ? '1' : '.65');
  });

  sortSel.addEventListener('change', sortAndRender);

  // modal controls
  document.getElementById('close').addEventListener('click', ()=> back.style.display='none');
  back.addEventListener('click', e=>{ if(e.target===back) back.style.display='none'; });

  // screensaver
  let interval=null;
  document.getElementById('ss').addEventListener('click', ()=>{
    if(interval){ clearInterval(interval); interval=null; alert('Screensaver stopped'); return; }
    let idx=0;
    interval=setInterval(()=>{ openModal(convos[idx%convos.length].id); idx++; }, 2200);
    alert('Screensaver started â€” modal will rotate conversations. Close the modal to keep watching.');
  });
})();
</script>
</body>
</html>
